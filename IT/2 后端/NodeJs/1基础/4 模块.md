## 什么是模块?

1. NodeJS开发中的模块,采用CommonJS规范实现了模块系统,来实现**命名冲突的问题**



## CommonJS规范

- CommonJS规范规定了如何定义一个模块, 如何导出模块中的变量函数, 以及如何使用定义好的模块

### 在CommonJS规范中

- 一个文件就是一个模块

- 每个文件中的变量函数都是私有的，对其他文件不可见的

- 每个文件中的变量函数必须通过`exports`导出之后其它文件才可以使用

- 想要使用其它文件导出的变量函数必须通过`require()`导入模块才可以使用



## NodeJS 导出模块方式

1. 通过`exports.xxx = xxx`导出
2. 通过`module.exports.xxx = xxx`导出
3. 通过`global.xxx = xxx`导出(不符合CommonJS规范, 不推荐使用)

注意点:

无论通过哪种方式导出, 使用时都需要先导入`require`才能使用

### exports和module.exports区别

`exports`只能通过 `exports.xxx`方式导出数据, 不能直接赋值

`module.exports`既可以通过`module.exports.xxx`方式导出数据, 也可以直接赋值

注意点:

在企业开发中无论哪种方式都不要直接赋值, 这个问题只会在面试中出现



## NodeJS 引入



1. require导入模块时可以不添加导入模块的类型

> 如果没有指定导入模块的类型, 那么会依次查找.js .json .node文件
>
> 无论是三种类型中的哪一种, 导入之后都会转换成JS对象返回给我们



2. 导入自定义模块时必须指定路径

- require可以导入"自定义模块(文件模块)"、"系统模块(核心模块)"、"第三方模块"
- 导入"自定义模块"模块时前面必须加上路径
- 导入"系统模块"和"第三方模块"是不用添加路径



3. 导入"系统模块"和"第三方模块"是不用添加路径的原因

- 如果是"系统模块"直接到环境变量配置的路径中查找

- 如果是"第三方模块"会按照module.paths数组中的路径依次查找



## 第三方模块

### 托管地址

www.npmjs.com