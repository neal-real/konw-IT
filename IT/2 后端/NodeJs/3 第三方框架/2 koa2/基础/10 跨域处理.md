## 如何解决前后端分离Cookie的跨域问题?

- 通过Nginx反向代理
  http://nginx.org/en/download.html
- 原理是所有的访问都指向 Nginx 服务器, 然后由 Nginx 服务器向各个服务器传递信息. 这样对于浏览器端口而言无论什么情况都是在访问 Nginx 服务器,就不存在跨域的问题了

## 正向代理

- 顺着请求的方向进行的代理, 我们称之为正向代理
  例如: 访问谷歌
  我是一个用户，我访问不了谷歌, 但是我可以访问一台海外的服务器, 这台海外服务器又可以访问谷歌
  那么'我'就可以先访问'海外的服务器', 再通过'海外的服务器'访问谷歌, 这就是正向代理

## 正向代理特点

- 在正向代理中, 代理服务器是为用户服务的,
  (对于谷歌来说, 它并不知道真正访问自己的是谁, 只知道有一台服务器访问了自己)

## 正向代理的用途

- 访问原来无法访问的资源，如google
- 对客户端访问授权，上网进行认证
- ... ...



## 反向代理

反向代理和正向代理正好相反, 反向代理服务器是为'服务器'服务的

 (对于用户来说, 它并不知道自己真正访问的是谁, 只知道自己访问了一台服务器)



## 反向代理的用途

\- 负载均衡，通过反向代理服务器来优化网站的负载

\- 前后端分离, 统一请求地址

```js

```





## 方式2 

- 使用中间件 `koa2-cors`

```shell
npm install koa2-cors
```



- 引入并注册

```js
var Koa = require('koa');
var cors = require('koa2-cors');
var app = new Koa();
app.use(cors());
```

