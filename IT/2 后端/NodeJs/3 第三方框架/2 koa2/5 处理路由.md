## Koa如何处理路由?

- Koa是一个轻量级的框架, 它将所有的附加功能都封装到了独立的模块中
  所以想要使用这些功能, 都必须先安装才能使用

- https://www.npmjs.com/package/koa-router
- https://github.com/ZijianHe/koa-router



```js
// 1.导入Koa
const Koa = require('koa');
const Router = require('koa-router'); // 导入处理路由的模块
const router = new Router(); // 创建路由对象

// 2.创建服务端实例对象
const app = new Koa();

// 处理路由
router.get('/api/goods/list', (ctx, next)=>{
  // ctx.body === res.writeHeader + res.end
  ctx.body = 'get /api/goods/list'; 
});

router.get('/api/user/login', (ctx, next)=>{
  ctx.body = {
    method: 'get',
    name: 'lnj',
    age: 66
  }
});

router.post('/api/goods/detail', (ctx, next)=>{
  ctx.body = 'post /api/goods/detail';
});

router.post('/api/user/register', (ctx, next)=>{
  ctx.body = {
    method: 'post',
    name: 'it666',
    age: 33
  }
});

app.use(router.routes()) // 启动路由功能
  .use(router.allowedMethods()); // 自动设置响应头

// 3.指定监听的端口
app.listen(3000);
```

